{% extends "base.html" %}

{% block content %}
	<main class="ribbon">
		<!-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
		<div class="sort">
			<!-- –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
		     <div class="sort-actions">
		        <button id="apply-sort">üîé</button> <!-- –õ—É–ø–∞ -->
		        <button id="reset-sort">‚Üª</button> <!-- –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞ -->
		    </div>
			<!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
			<div class="sort-options">
				<label for="sort-by">–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ:</label>
				<label style="margin-right: 10px;">
			    	<input type="radio" name="arrow" value="up"> ‚Üë 
				</label>
				<label>
				    <input type="radio" name="arrow" value="down"> ‚Üì
				</label>
			</div>
			<!-- –¢–µ–≥–∏ -->
			<h1>#–¢–µ–≥–∏ <input type="text" id="tag-search" placeholder="–ü–æ–∏—Å–∫ —Ç–µ–≥–æ–≤"></h1>
			<div class="tags">
				<ul id="tags-list">
					<!-- –¢–µ–≥–∏ —Å—é–¥–∞ -->
				</ul>
			</div>
		</div>

		 <!-- –°—Ç–∞—Ç—å–∏ -->
        <div class="articles-blocks">
            {% for item in articles %}
                <div class="article-block">
                    <div class="header">
                        <h1 class="title">
                            <a href="/article/{{ item.article.id }}">{{ item.article.title }}</a>
                        </h1>
                        <span class="date">{{ item.article.created_date }}</span>
                    </div>
                    <div class="main-text">{{ item.article.preview }}</div>
                    <div class="tags-list-footer">
                        {% for tag in item.tags %}
                            <p>{{ tag }}</p>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </main>
	
	<script>
		// –ú–∞—Å—Å–∏–≤ —Ç–µ–≥–æ–≤
		const tags = ["A", "B", "C", "D", "F", "G", "GG"];
	    
	
		document.addEventListener('DOMContentLoaded', () => {
			const applySortButton = document.getElementById('apply-sort');
	    	const resetSortButton = document.getElementById('reset-sort');
	    	
	    	// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
		    applySortButton.addEventListener('click', () => {
		        const selectedOrder = document.querySelector('input[name="arrow"]:checked')?.value || 'up';
		        sortArticles(selectedOrder);
		    });

		    // –°–±—Ä–æ—Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
		    resetSortButton.addEventListener('click', () => {
		        articles.sort((a, b) => new Date(a.date) - new Date(b.date)); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É
		        displayArticles(articles);
		    });

		    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–µ–π
		    displayArticles(articles);
		});
	</script>
{% endblock %}