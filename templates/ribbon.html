{% extends "base.html" %}

{% block content %}
	<main class="ribbon">
		<!-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
		<div class="sort">
			<!-- –ö–Ω–æ–ø–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
				<div class="sort-actions">
					<button id="apply-sort">üîé</button> <!-- –õ—É–ø–∞ -->
					<button id="reset-sort">‚Üª</button> <!-- –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞ -->
				</div>
		<!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ -->
			<div class="sort-options">
				<label for="sort-by">–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ:</label>
				<label style="margin-right: 10px;">
					<input type="radio" name="arrow" value="up"> ‚Üë 
				</label>
				<label>
					<input type="radio" name="arrow" value="down"> ‚Üì
				</label>
			</div>
			<!-- –¢–µ–≥–∏ -->
			<h1>#–¢–µ–≥–∏ <input type="text" id="tag-search" placeholder="–ü–æ–∏—Å–∫ —Ç–µ–≥–æ–≤"></h1>
			<div class="tags">
				<ul id="tags-list">
					<!-- –¢–µ–≥–∏ —Å—é–¥–∞ -->
				</ul>
			</div>
		</div>

		<!-- –°—Ç–∞—Ç—å–∏ -->
			<div class="articles-blocks">
					{% for item in articles %}
							<div class="article-block">
									<div class="header">
											<h1 class="title">
													<a href="/article/{{ item.article.id }}">{{ item.article.title }}</a>
											</h1>
											<span class="date">{{ item.article.created_date.strftime('%Y-%m-%d') }}</span>
									</div>
									<div class="main-text">{{ item.article.preview }}</div>
									<div class="tags-list-footer">
											{% for tag in item.tags %}
													<p>#{{ tag }}</p>
											{% endfor %}
									</div>
							</div>
					{% endfor %}
			</div>
    </main>
    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
	<div class="pagination">
		<form action="/ribbon" method="POST">
				<!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É -->
				<button type="submit" name="page" value="ribbon">1</button>
				<!-- –°—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ -->
				<button type="submit" name="page" value="prev">‚Üê</button>
				<!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
				<span class="current-page">{{ current_page }}</span>
				<!-- –°—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ -->
				<button type="submit" name="page" value="next">‚Üí</button>
				<!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω–∏—Ü—É -->
				<button type="submit" name="page" value="{{ total_pages }}">{{ total_pages }}</button>
		</form>
	</div>
	
	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const tagsList = document.getElementById('tags-list'); // –ù–∞—Ö–æ–¥–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–µ–≥–æ–≤

			// –ú–∞—Å—Å–∏–≤ —Ç–µ–≥–æ–≤
			const tags = ["A", "B", "C", "D", "F", "G", "GG"];

			// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–≥–æ–≤ —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏
			function displayTags() {
					tags.forEach(tag => {
							const listItem = document.createElement('li'); // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç <li>

							// –°–æ–∑–¥–∞–µ–º —á–µ–∫–±–æ–∫—Å
							const checkbox = document.createElement('input');
							checkbox.type = 'checkbox';
							checkbox.value = tag; // –ó–Ω–∞—á–µ–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞ —Ä–∞–≤–Ω–æ —Ç–µ–≥—É
							checkbox.className = 'tag-checkbox'; // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

							// –°–æ–∑–¥–∞–µ–º —Ç–µ–∫—Å—Ç —Ç–µ–≥–∞
							const text = document.createElement('span');
							text.textContent = tag;

							// –î–æ–±–∞–≤–ª—è–µ–º —á–µ–∫–±–æ–∫—Å –∏ —Ç–µ–∫—Å—Ç –≤ —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
							listItem.appendChild(checkbox);
							listItem.appendChild(text);

							// –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
							tagsList.appendChild(listItem);
					});
			}

			// –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–≥–æ–≤
			displayTags();
		});
	</script>
{% endblock %}